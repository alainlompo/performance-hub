<h2>Stress test your web application with Gatling</h2>

<p>Gatling's installation can be very simple: all that is needed is to unpack the bundle into a specific folder and to define a GATLING_HOME environement 
variable that points to it. You can find the bundle on <a href='http://gatling.io/#/'>Gatling's website</a>. Read the quickstart guide to get acquainted with the
basic features of Gatling and how to get it running quickly</p>

<h3>Generating a simulation scenario by using the recorder</h3>
Gatling uses scenarios written in <a href='http://www.scala-lang.org/'>Scala programming language</a> to run stress tests against web applications. Scala compiles into Java bytecode 
and runs on JVM. There is complete interoperability between Scala libraries and Java's (you can use one in the other and vice - versa). The simplest way to 
generate a basic simulation class is to use the recorder. Using the recorder, we browse the web application and we execute one or many use cases. then Gatling generates 
the simulation class that will be used next to play the stress tests. 

Again it is advisable to read the quickstart to get acquainted with these basic features. Once you have launched the recorder using the recorder script:

<ul>
	<li>$GATLING_HOME/bin/recorder.sh (on Unix like systems)</li>
	<li>%GATLING_HOME%\bin\recorder.bat (on Windows)</li>
</ul>,

you will have to specify a listening port for localhost HTTP/HTTPS and then configure the browser you will use to browse the tested web application. Manually configure a proxy that uses
the same listening port in a similar way as what is shown in the picture below (configuration for Mozilla firefox)<br/>

<img src="https://github.com/alainlompo/performance-hub/blob/master/gatling/screen-snapshots/mozilla_manual_proxy_configuration.png" />
<br/>
You can of course use any available port instead of the one shown on the picture. Notice that depending on the customizations of your browser you may experience unpleasant
ssl handshake failures event after you have followed the quickstart exactly. In most cases, these errors will go away if you reset your browser's ssls and tls custom configurations.
In the case of Mozilla you can use the <b>about:config</b> page to do that.

<h3> The samples on this github's project</h3>
<h4>First sample: generate simple simulation class from the recorder</h4>
The first sample is made of the following files and folders that you find directly under the <b>[gatling]</b> folder:<br/>
<ul>
	<li>The <a href="https://github.com/alainlompo/performance-hub/blob/master/gatling/SimpleSimulation.scala">SimpleSimulation.scala</a> file that is generated by a recording session</li>
	<li>The <a href="https://github.com/alainlompo/performance-hub/blob/master/gatling/simplesimulation-1466129488803.zip">Zipped html report</a> of a stress test session (download and unzip it on your local disk and browse the index.html to see Gatling in action)</li>
	<li>The <a href="https://github.com/alainlompo/performance-hub/tree/master/gatling/screen-snapshots">Screen (illustrative) snapshots</a></li>
</ul>
<br/>
Once we have a .scala simulation class, we should run the gatling script against it:
<ul>
	<li>$GATLING_HOME/bin/gatling.sh (on Unix like systems)</li>
	<li>%GATLING_HOME%\bin\gatling.bat (on Windows)</li>
</ul>

Here are a few views from the running script:<br/>
<img src="https://github.com/alainlompo/performance-hub/blob/master/gatling/screen-snapshots/gatling_runing_sim_01.png" /><br/>
And the summary displayed when the script's execution is done: <br/>
<img src="https://github.com/alainlompo/performance-hub/blob/master/gatling/screen-snapshots/gatling_runing_sim_02.png" />
<br/>
You may notice the path to the generated html report. 

<h5>Sample views from the report</h5>
The first view: the global informations view<br/>
<img src="https://github.com/alainlompo/performance-hub/blob/master/gatling/screen-snapshots/gatling_report_page_1.png" /><br/>
<br/>
Statistics per request:<br/>
<img src="https://github.com/alainlompo/performance-hub/blob/master/gatling/screen-snapshots/gatling_report_page_2.png" />
<br/>
<br/>
Response time distribution:
<br/>
<img src="https://github.com/alainlompo/performance-hub/blob/master/gatling/screen-snapshots/gatling_report_page_4.png" />

<h4>Second sample: The rampusers simulation</h4>
In this second sample, we modify the first simulation class in order to:
<ul>
	<li>Define multiple usage scenari: we create a simple user scenario and an administrator scenario</li>
	<li>Load the simulation with many users</li>
	<li>Inejct the user using the Gatling's rampusers feature which makes it look like the natural way users will connect to the app (not at the same time, but gradually over time)</li>
</ul>

Everything regarding this sample (SimpleSimulation.scala file, zipped html report and screen shots) is found in the <a href="https://github.com/alainlompo/performance-hub/tree/master/gatling/rampusers-simulation">rampusers simulation</a> folder

<h4>Third sample: Dynamic data injection and usage</h4>
The third samples shows how to dynamically inject datas to customize the users scenari (making them more personnal) and also how to reuse the result of a previous request into the next request.
Everything about the third sample is found in the <a href="https://github.com/alainlompo/performance-hub/tree/master/gatling/dynamic-datas">dynamic datas</a> folder.




